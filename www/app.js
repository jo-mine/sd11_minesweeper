(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";n(11);var r=n(13),a=u(n(0)),o=u(n(1)),i=u(n(5)),l=u(n(19));function u(e){return e&&e.__esModule?e:{default:e}}n(25),n(26),i.default.platform.isIPhoneX()&&(document.documentElement.setAttribute("onsflag-iphonex-portrait",""),document.documentElement.setAttribute("onsflag-iphonex-landscape",""));var s=document.getElementById("app");o.default.render(a.default.createElement(r.AppContainer,null,a.default.createElement(l.default,null)),s)},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=(l(n(1)),n(2)),i=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(8);var c=function(e){function t(){return u(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"renderPage",value:function(e,t){var n=e.props||{};return n.navigator=t,a.default.createElement(e.component,n)}},{key:"render",value:function(){return a.default.createElement(o.Navigator,{initialRoute:{component:i.default},renderPage:this.renderPage})}}]),t}(a.default.Component);t.default=c},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=(l(n(1)),n(2)),i=l(n(24));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={highScore:9999},n.updateScore=n.updateScore.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"pushPage",value:function(){this.props.navigator.pushPage({component:i.default,props:{updateScore:this.updateScore}})}},{key:"updateScore",value:function(e){e<this.state.highScore&&this.setState({highScore:e})}},{key:"render",value:function(){return a.default.createElement(o.Page,{style:{textAlign:"center"}},a.default.createElement("h1",null,"minesweeper"),a.default.createElement("p",null,this.state.highScore),a.default.createElement("p",null,a.default.createElement(o.Button,{onClick:this.pushPage.bind(this)},"START")))}}]),t}(a.default.Component);t.default=u},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(0)),o=(i(n(1)),n(2));function i(e){return e&&e.__esModule?e:{default:e}}n(8);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={field:[],flagsCount:0,minesCount:10,time:10,mode:!1,size:9,minePoses:[],remainCount:Math.pow(9,2),timer:void 0,clearFlag:0},n.initField=n.initField.bind(n),n.setMines=n.setMines.bind(n),n.initTimer=n.initTimer.bind(n),n.loadField=n.loadField.bind(n),n.checkCell=n.checkCell.bind(n),n.turnCell=n.turnCell.bind(n),n.turnFlag=n.turnFlag.bind(n),n.openMines=n.openMines.bind(n),n.initField(),n.initTimer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"initField",value:function(){var e=this.state,t=e.size+2,n=[],r={type:-999,state:-1};n.push(new Array(t).fill(r));for(var a=0;a<e.size;a++){var o=[];o.push(r);for(var i=0;i<e.size;i++)o.push({type:0,state:0});o.push(r),n.push(o)}n.push(new Array(t).fill(r)),e.field=this.setMines(n),this.setState(e)}},{key:"setMines",value:function(e){for(var t=this.state,n=[],r=function(e,t){return e.find((function(e){return e.toString()==t.toString()}))};n.length<t.minesCount;){var a=Math.floor(Math.random()*t.size)+1,o=Math.floor(Math.random()*t.size)+1;if(null==r(n,[a,o])){var i=[a,o];n.push(i),e[a][o].type=-1;for(var l=-1;l<2;l++)for(var u=-1;u<2;u++)if(0!=l||0!=u){var s=e[a+l][o+u];s.type>-1&&(s.type+=1)}}else console.log("undefined„Å£„Å¶‰Ωï")}return t.minePoses=n,e}},{key:"initTimer",value:function(){var e=this,t=setInterval((function(){var t=e.state;t.time-=1,t.time<=0&&(t.clearFlag=-1),e.setState(t)}),1e3),n=this.state;n.timer=t,this.setState(n)}},{key:"loadField",value:function(){for(var e=this,t=this.state,n=[],r=1;r<t.size+1;r++){for(var i=[],l=function(){var n=r,l=u,s=t.field[r][u];switch(s.state){case 0:i.push(a.default.createElement(o.Col,{className:"closed-state square",onClick:function(){return e.checkCell(n,l)}}));break;case 1:0==s.type?i.push(a.default.createElement(o.Col,{className:"opened-state square"})):s.type>0?i.push(a.default.createElement(o.Col,{className:"opened-state square"},s.type)):i.push(a.default.createElement(o.Col,{className:"opened-state square"},"üí£"));break;case 2:i.push(a.default.createElement(o.Col,{className:"closed-state square",onClick:function(){return e.checkCell(n,l)}},"üö©"));break;default:i.push(a.default.createElement(o.Col,{className:""},"‚óÜ"))}},u=1;u<t.size+1;u++)l();n.push(a.default.createElement(o.Row,null,i.concat()))}return console.log("Reloaded field."),n}},{key:"checkCell",value:function(e,t){var n=this.state;if(0==n.clearFlag){var r=n.field,a=r[e][t];n.mode?(this.turnFlag(r,e,t),this.setState(n)):2!=a.state&&(-1==a.type?(this.openMines(),n.clearFlag=-1,clearInterval(n.timer),console.log("GameOver")):this.turnCell(n,e,t),n.remainCount==n.minesCount&&(n.clearFlag=1,clearInterval(n.timer),console.log("GameClear")),this.setState(n))}}},{key:"turnCell",value:function(e,t,n){this.state.openedCellCount;var r=e.field[t][n];if(!(r.type<0||1==r.state)&&(r.state=1,e.remainCount-=1,0==r.type))for(var a=-1;a<2;a++)for(var o=-1;o<2;o++)0==a&&0==o||this.turnCell(e,t+a,n+o)}},{key:"turnFlag",value:function(e,t,n){var r=e[t][n];return 0==r.state?r.state=2:r.state=0,e}},{key:"openMines",value:function(){var e=this.state;e.minePoses.map((function(t){e.field[t[0]][t[1]].state=1})),this.setState(e)}},{key:"popPage",value:function(){1==this.state.clearFlag&&this.props.updateScore(this.state.time),this.props.navigator.popPage()}},{key:"render",value:function(){var e=this;return a.default.createElement(o.Page,null,a.default.createElement("div",{className:"flex-container flex-justify"},a.default.createElement("div",{className:"info"},"üí£",this.state.flagsCount,"/",this.state.minesCount),a.default.createElement("div",{className:"info"},"‚è∞",this.state.time)),a.default.createElement("div",{className:"flex-container flex-left"},a.default.createElement("div",null,"‚õè ",a.default.createElement(o.Switch,{onChange:function(t){var n=e.state;n.mode=t.value,e.setState(n)},checked:this.state.mode})," üö©")),a.default.createElement("p",{style:{textAlign:"center"}},a.default.createElement(o.Button,{onClick:this.popPage.bind(this)},"Êàª„Çã")),a.default.createElement("p",null,this.loadField()))}}]),t}(a.default.Component);t.default=l},8:function(e,t,n){},9:function(e,t,n){e.exports=n(10)}},[[9,1,2]]]);